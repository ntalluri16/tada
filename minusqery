import javax.persistence.EntityManager;
import javax.persistence.PersistenceContext;
import javax.persistence.Query;
import java.math.BigDecimal;

public class MyRepository {

    @PersistenceContext
    private EntityManager entityManager;

    public void callGetAllProcedure(String one, String two, String three) {
        // Use a native query to call the PostgreSQL procedure
        String sql = "CALL getall(:one, :two, :three, :four, :five)";
        Query query = entityManager.createNativeQuery(sql);

        // Set the IN parameters
        query.setParameter("one", one);
        query.setParameter("two", two);
        query.setParameter("three", three);

        // Register the OUT parameters
        query.registerStoredProcedureParameter("four", String.class, ParameterMode.OUT);
        query.registerStoredProcedureParameter("five", BigDecimal.class, ParameterMode.OUT);

        // Execute the procedure
        query.execute();

        // Retrieve the OUT parameters
        String four = (String) query.getOutputParameterValue("four");
        BigDecimal five = (BigDecimal) query.getOutputParameterValue("five");

        // Do something with the output values
        System.out.println("four: " + four);
        System.out.println("five: " + five);
    }
}
